
Runner.pages.PageSettings.addPageEvent('shifts',Runner.pages.constants.PAGE_ADD,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject){var ctrlti=Runner.getControl(pageid,'TimeIn');var ctrlto=Runner.getControl(pageid,'TimeOut');var ctrlbrf=Runner.getControl(pageid,'LunchBreakTimeFrom');var ctrlbrt=Runner.getControl(pageid,'LunchBreakTimeTo');var ctrlfhm=Runner.getControl(pageid,'FirstHalfMins');var ctrlshm=Runner.getControl(pageid,'SecondHalfMins');var ctrlbm=Runner.getControl(pageid,'BreakMins');var ctrlmpd=Runner.getControl(pageid,'MinsPerDay');var ctrlst=Runner.getControl(pageid,'SchedType');function funca1(){var dxt='1/1/2018 '+ctrlto.getValue();var dxf='1/1/2018 '+ctrlti.getValue();var dd1=(new Date(dxf).getHours())*60+(new Date(dxf).getMinutes());var dd2=(new Date(dxt).getHours())*60+(new Date(dxt).getMinutes());if(dd2>dd1){var daten1='1/1/2018 '+ctrlto.getValue();}
else{var daten1='2/1/2018 '+ctrlto.getValue();};var daten2='1/1/2018 '+ctrlti.getValue();var date1=new Date(daten1);var date2=new Date(daten2);var diffMs=(date1-date2);var diffHrs=Math.floor((diffMs%86400000)/3600000);var diffMins=Math.round(((diffMs%86400000)%3600000)/60000);ctrlmpd.setValue((diffHrs*60)+diffMins);var dxbf='1/1/2018 '+ctrlbrf.getValue();var dd22=(new Date(dxbf).getHours())*60+(new Date(dxbf).getMinutes());if(dd22>dd1){var daten11='1/1/2018 '+ctrlbrf.getValue();}
else{var daten11='2/1/2018 '+ctrlbrf.getValue();};var daten22='1/1/2018 '+ctrlti.getValue();var datea=new Date(daten11);var dateb=new Date(daten22);var diffMs2=(datea-dateb);var diffHrs2=Math.floor((diffMs2%86400000)/3600000);var diffMins2=Math.round(((diffMs2%86400000)%3600000)/60000);ctrlfhm.setValue((diffHrs2*60)+diffMins2);var dxbt='1/1/2018 '+ctrlbrt.getValue();var dd23=(new Date(dxbt).getHours())*60+(new Date(dxbt).getMinutes());if(dd2>dd23){var daten111='1/1/2018 '+ctrlto.getValue();}
else{var daten111='2/1/2018 '+ctrlto.getValue();};var daten222='1/1/2018 '+ctrlbrt.getValue();var datex=new Date(daten111);var datey=new Date(daten222);var diffMs3=(datex-datey);var diffHrs3=Math.floor((diffMs3%86400000)/3600000);var diffMins3=Math.round(((diffMs3%86400000)%3600000)/60000);ctrlshm.setValue((diffHrs3*60)+diffMins3);if(dd23>dd22){var daten112='1/1/2018 '+ctrlbrt.getValue();}
else{var daten112='2/1/2018 '+ctrlbrt.getValue();};var daten223='1/1/2018 '+ctrlbrf.getValue();var dateq=new Date(daten112);var dater=new Date(daten223);var diffMs4=(dateq-dater);var diffHrs4=Math.floor((diffMs4%86400000)/3600000);var diffMins4=Math.round(((diffMs4%86400000)%3600000)/60000);ctrlbm.setValue((diffHrs4*60)+diffMins4);};function funca2(){if(ctrlst.getValue()==1)
{ctrlti.show();ctrlto.show();ctrlbrf.show();ctrlbrt.show();ctrlfhm.setValue('');ctrlshm.setValue('');ctrlbm.setValue('');ctrlmpd.setValue('');ctrlfhm.makeReadonly();ctrlshm.makeReadonly();ctrlbm.makeReadonly();ctrlmpd.makeReadonly();ctrlti.addValidation("IsRequired");ctrlto.addValidation("IsRequired");ctrlbrf.addValidation("IsRequired");ctrlbrt.addValidation("IsRequired");}
else
{ctrlti.setValue('');ctrlto.setValue('');ctrlbrf.setValue('');ctrlbrt.setValue('');ctrlfhm.setValue('');ctrlshm.setValue('');ctrlbm.setValue('');ctrlmpd.setValue('');ctrlmpd.makeReadonly();ctrlfhm.makeReadWrite();ctrlshm.makeReadWrite();ctrlbm.makeReadWrite();ctrlti.hide();ctrlto.hide();ctrlbrf.hide();ctrlbrt.hide();ctrlfhm.addValidation("IsRequired");ctrlshm.addValidation("IsRequired");ctrlbm.addValidation("IsRequired");ctrlti.removeValidation("IsRequired");ctrlto.removeValidation("IsRequired");ctrlbrf.removeValidation("IsRequired");ctrlbrt.removeValidation("IsRequired");}};function funcend(){ctrlmpd.setValue(Number(ctrlfhm.getValue())+Number(ctrlshm.getValue())+Number(ctrlbm.getValue()));};ctrlti.on('keyup',funca1);ctrlto.on('keyup',funca1);ctrlbrf.on('keyup',funca1);ctrlbrt.on('keyup',funca1);ctrlst.on('keyup',funca2);ctrlti.on('change',funca1);ctrlto.on('change',funca1);ctrlbrf.on('change',funca1);ctrlbrt.on('change',funca1);ctrlst.on('change',funca2);ctrlfhm.on('change',funcend);ctrlshm.on('change',funcend);ctrlbm.on('change',funcend);ctrlfhm.on('keyup',funcend);ctrlshm.on('keyup',funcend);ctrlbm.on('keyup',funcend);;});Runner.pages.PageSettings.addPageEvent('shifts',Runner.pages.constants.PAGE_EDIT,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject){var ctrlti=Runner.getControl(pageid,'TimeIn');var ctrlto=Runner.getControl(pageid,'TimeOut');var ctrlbrf=Runner.getControl(pageid,'LunchBreakTimeFrom');var ctrlbrt=Runner.getControl(pageid,'LunchBreakTimeTo');var ctrlfhm=Runner.getControl(pageid,'FirstHalfMins');var ctrlshm=Runner.getControl(pageid,'SecondHalfMins');var ctrlbm=Runner.getControl(pageid,'BreakMins');var ctrlmpd=Runner.getControl(pageid,'MinsPerDay');var ctrlst=Runner.getControl(pageid,'SchedType');function funca1(){var dxt='1/1/2018 '+ctrlto.getValue();var dxf='1/1/2018 '+ctrlti.getValue();var dd1=(new Date(dxf).getHours())*60+(new Date(dxf).getMinutes());var dd2=(new Date(dxt).getHours())*60+(new Date(dxt).getMinutes());if(dd2>dd1){var daten1='1/1/2018 '+ctrlto.getValue();}
else{var daten1='2/1/2018 '+ctrlto.getValue();};var daten2='1/1/2018 '+ctrlti.getValue();var date1=new Date(daten1);var date2=new Date(daten2);var diffMs=(date1-date2);var diffHrs=Math.floor((diffMs%86400000)/3600000);var diffMins=Math.round(((diffMs%86400000)%3600000)/60000);ctrlmpd.setValue((diffHrs*60)+diffMins);var dxbf='1/1/2018 '+ctrlbrf.getValue();var dd22=(new Date(dxbf).getHours())*60+(new Date(dxbf).getMinutes());if(dd22>dd1){var daten11='1/1/2018 '+ctrlbrf.getValue();}
else{var daten11='2/1/2018 '+ctrlbrf.getValue();};var daten22='1/1/2018 '+ctrlti.getValue();var datea=new Date(daten11);var dateb=new Date(daten22);var diffMs2=(datea-dateb);var diffHrs2=Math.floor((diffMs2%86400000)/3600000);var diffMins2=Math.round(((diffMs2%86400000)%3600000)/60000);ctrlfhm.setValue((diffHrs2*60)+diffMins2);var dxbt='1/1/2018 '+ctrlbrt.getValue();var dd23=(new Date(dxbt).getHours())*60+(new Date(dxbt).getMinutes());if(dd2>dd23){var daten111='1/1/2018 '+ctrlto.getValue();}
else{var daten111='2/1/2018 '+ctrlto.getValue();};var daten222='1/1/2018 '+ctrlbrt.getValue();var datex=new Date(daten111);var datey=new Date(daten222);var diffMs3=(datex-datey);var diffHrs3=Math.floor((diffMs3%86400000)/3600000);var diffMins3=Math.round(((diffMs3%86400000)%3600000)/60000);ctrlshm.setValue((diffHrs3*60)+diffMins3);if(dd23>dd22){var daten112='1/1/2018 '+ctrlbrt.getValue();}
else{var daten112='2/1/2018 '+ctrlbrt.getValue();};var daten223='1/1/2018 '+ctrlbrf.getValue();var dateq=new Date(daten112);var dater=new Date(daten223);var diffMs4=(dateq-dater);var diffHrs4=Math.floor((diffMs4%86400000)/3600000);var diffMins4=Math.round(((diffMs4%86400000)%3600000)/60000);ctrlbm.setValue((diffHrs4*60)+diffMins4);};function funca2(){if(ctrlst.getValue()==1)
{ctrlti.show();ctrlto.show();ctrlbrf.show();ctrlbrt.show();ctrlfhm.setValue('');ctrlshm.setValue('');ctrlbm.setValue('');ctrlmpd.setValue('');ctrlfhm.makeReadonly();ctrlshm.makeReadonly();ctrlbm.makeReadonly();ctrlmpd.makeReadonly();ctrlti.addValidation("IsRequired");ctrlto.addValidation("IsRequired");ctrlbrf.addValidation("IsRequired");ctrlbrt.addValidation("IsRequired");}
else
{ctrlti.setValue('');ctrlto.setValue('');ctrlbrf.setValue('');ctrlbrt.setValue('');ctrlfhm.setValue('');ctrlshm.setValue('');ctrlbm.setValue('');ctrlmpd.setValue('');ctrlmpd.makeReadonly();ctrlfhm.makeReadWrite();ctrlshm.makeReadWrite();ctrlbm.makeReadWrite();ctrlti.hide();ctrlto.hide();ctrlbrf.hide();ctrlbrt.hide();ctrlfhm.addValidation("IsRequired");ctrlshm.addValidation("IsRequired");ctrlbm.addValidation("IsRequired");ctrlti.removeValidation("IsRequired");ctrlto.removeValidation("IsRequired");ctrlbrf.removeValidation("IsRequired");ctrlbrt.removeValidation("IsRequired");}};function funcend(){ctrlmpd.setValue(Number(ctrlfhm.getValue())+Number(ctrlshm.getValue())+Number(ctrlbm.getValue()));};ctrlti.on('keyup',funca1);ctrlto.on('keyup',funca1);ctrlbrf.on('keyup',funca1);ctrlbrt.on('keyup',funca1);ctrlst.on('keyup',funca2);ctrlti.on('change',funca1);ctrlto.on('change',funca1);ctrlbrf.on('change',funca1);ctrlbrt.on('change',funca1);ctrlst.on('change',funca2);ctrlfhm.on('change',funcend);ctrlshm.on('change',funcend);ctrlbm.on('change',funcend);ctrlfhm.on('keyup',funcend);ctrlshm.on('keyup',funcend);ctrlbm.on('keyup',funcend);;});