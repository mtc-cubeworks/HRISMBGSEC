
Runner.pages.PageSettings.addPageEvent('overtimes',Runner.pages.constants.PAGE_ADD,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject){var ctrlti=Runner.getControl(pageid,'FromTime');var ctrlto=Runner.getControl(pageid,'ToTime');var ctrlap=Runner.getControl(pageid,'Approved');var ctrlmin=Runner.getControl(pageid,'NoMins');var ctrlallem=Runner.getControl(pageid,'AllEmployees');var ctrlselem=Runner.getControl(pageid,'SelectEmployees');function funca1(){var dxt='1/1/2018 '+ctrlto.getValue();var dxf='1/1/2018 '+ctrlti.getValue();var dd1=(new Date(dxf).getHours())*60+(new Date(dxf).getMinutes());var dd2=(new Date(dxt).getHours())*60+(new Date(dxt).getMinutes());if(dd2>dd1){var daten1='1/1/2018 '+ctrlto.getValue();}
else{var daten1='2/1/2018 '+ctrlto.getValue();};var daten2='1/1/2018 '+ctrlti.getValue();var date1=new Date(daten1);var date2=new Date(daten2);var diffMs=(date1-date2);var diffHrs=Math.floor((diffMs%86400000)/3600000);var diffMins=Math.round(((diffMs%86400000)%3600000)/60000);ctrlmin.setValue((diffHrs*60)+diffMins);};function funca3(){if(ctrlallem.getValue()=='on'){ctrlselem.clear();ctrlselem.makeReadonly();}
else{ctrlselem.makeReadWrite();}};ctrlti.on('onchange',funca1);ctrlto.on('onchange',funca1);ctrlti.on('keyup',funca1);ctrlto.on('keyup',funca1);ctrlallem.on('onchange',funca3);ctrlallem.on('keyup',funca3);});Runner.pages.PageSettings.addPageEvent('overtimes',Runner.pages.constants.PAGE_EDIT,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject){var ctrlti=Runner.getControl(pageid,'FromTime');var ctrlto=Runner.getControl(pageid,'ToTime');var ctrlap=Runner.getControl(pageid,'Approved');var ctrlapb=Runner.getControl(pageid,'Approvedby');var ctrlmin=Runner.getControl(pageid,'NoMins');var ctrldt=Runner.getControl(pageid,'ApprovedDate');var ctrlallem=Runner.getControl(pageid,'AllEmployees');var ctrlselem=Runner.getControl(pageid,'SelectEmployees');function funca1(){var dxt='1/1/2018 '+ctrlto.getValue();var dxf='1/1/2018 '+ctrlti.getValue();var dd1=(new Date(dxf).getHours())*60+(new Date(dxf).getMinutes());var dd2=(new Date(dxt).getHours())*60+(new Date(dxt).getMinutes());if(dd2>dd1){var daten1='1/1/2018 '+ctrlto.getValue();}
else{var daten1='2/1/2018 '+ctrlto.getValue();};var daten2='1/1/2018 '+ctrlti.getValue();var date1=new Date(daten1);var date2=new Date(daten2);var diffMs=(date1-date2);var diffHrs=Math.floor((diffMs%86400000)/3600000);var diffMins=Math.round(((diffMs%86400000)%3600000)/60000);ctrlmin.setValue((diffHrs*60)+diffMins);};function funca2(){if(ctrlap.getValue()=='on'){ctrlapb.clear();ctrlapb.addValidation("IsRequired");ctrldt.clear();ctrldt.addValidation("IsRequired");}
else{ctrlapb.clear();ctrlapb.removeValidation("IsRequired");ctrldt.clear();ctrldt.removeValidation("IsRequired");}};function funca3(){if(ctrlallem.getValue()=='on'){ctrlselem.clear();ctrlselem.makeReadonly();}
else{ctrlselem.makeReadWrite();}};ctrlti.on('onchange',funca1);ctrlto.on('onchange',funca1);ctrlti.on('keyup',funca1);ctrlto.on('keyup',funca1);ctrlap.on('onchange',funca2);ctrlallem.on('onchange',funca3);ctrlallem.on('keyup',funca3);});